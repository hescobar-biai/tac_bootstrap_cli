---
allowed-tools: Read, Write, Edit, Glob, Grep, MultiEdit
description: Create implementation plans with simple file exploration workflow
model: claude-opus-4-1-20250805
---

# Simple Planning Command

Create an implementation plan using a streamlined 5-step workflow.

## Variables

issue_number: $1
adw_id: $2
issue_json: $3

## Instructions

- Create a plan to implement a feature in {{ config.project.name }}
- CRITICAL: Use RELATIVE path `{{ config.paths.specs_dir }}/issue-{issue_number}-adw-{adw_id}-sdlc_planner-{name}.md`
- Follow existing project patterns and conventions
- Keep solutions simple - don't over-engineer

## Planning Workflow

### Step 1: Understand Requirements

Parse `issue_json` to extract:
- Issue number, title, description
- Key technical requirements
- Acceptance criteria

### Step 2: Read Relevant Files

Use Read, Glob, Grep to explore:
- Glob for file patterns (e.g., `**/*service*.py`)
- Grep for keywords, classes, functions
- Read relevant files to understand patterns

Focus on: architecture patterns, similar features, testing patterns, integration points.

### Step 3: Design Approach

Based on exploration:
- Identify files to modify/create
- Choose patterns aligned with existing code
- Plan implementation sequence

### Step 4: Write Plan

Write structured plan with:
- Metadata, Feature Description, User Story
- Problem/Solution Statement
- Relevant Files (existing + new)
- Implementation Plan (phases)
- Step by Step Tasks
- Testing Strategy
- Validation Commands

### Step 5: Save to {{ config.paths.specs_dir }}/

Save to: `{{ config.paths.specs_dir }}/issue-{issue_number}-adw-{adw_id}-sdlc_planner-{name}.md`

## Relevant Files

- `CLAUDE.md` - Agent guide
{% if config.paths.app_root %}
- `{{ config.paths.app_root }}/` - Application source code
{% endif %}
- `{{ config.paths.specs_dir }}/` - Implementation specifications

Read `.claude/commands/conditional_docs.md` for additional docs.

## Plan Format

```md
# Feature: <name>

## Metadata
issue_number: `{issue_number}`
adw_id: `{adw_id}`

## Feature Description
<Purpose and value>

## User Story
As a <user>, I want <action>, so that <benefit>

## Problem Statement
<Problem this addresses>

## Solution Statement
<Approach and how it solves the problem>

## Relevant Files

### Existing Files to Modify
1. **`path/to/file.py`** - Why modification needed

### New Files
2. **`path/to/new_file.py`** - Purpose

## Implementation Plan

### Phase 1: Foundation
<Foundational work>

### Phase 2: Core Implementation
<Main feature>

### Phase 3: Integration
<Integration>

## Step by Step Tasks

### Task 1: <name>
- <detail>

### Task 2: <name>
- <detail>

## Testing Strategy

### Unit Tests
<Tests needed>

### Edge Cases
<Edge cases>

## Acceptance Criteria
1. **Criterion 1** - Description

## Validation Commands
{% if config.commands.test %}
- `{{ config.commands.test }}` - Run tests
{% endif %}
{% if config.commands.lint %}
- `{{ config.commands.lint }}` - Linting
{% endif %}
{% if config.commands.typecheck %}
- `{{ config.commands.typecheck }}` - Type check
{% endif %}

## Notes
<Additional context>
```

## Report

Output ONLY the relative path to the plan file:
```
{{ config.paths.specs_dir }}/issue-37-adw-e4dc9574-sdlc_planner-feature-name.md
```

No explanation, no commentary, no markdown formatting. Just the bare path.
