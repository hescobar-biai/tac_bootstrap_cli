# Validation Checklist: Create plan_w_scouters.md command file

**Spec:** `specs/issue-458-adw-feature_Tac_12_task_6_2-sdlc_planner-plan-w-scouters-command.md`
**Branch:** `feature-issue-458-adw-feature_Tac_12_task_6_2-create-plan-w-scouters-command`
**Review ID:** `feature_Tac_12_task_6_2`
**Date:** `2026-01-30`

## Automated Technical Validations

- [x] Syntax and type checking - PASSED
- [x] Linting - PASSED
- [x] Unit tests - PASSED (690 passed, 2 skipped)
- [x] Application smoke test - PASSED

## Acceptance Criteria

- [x] Base command file `.claude/commands/plan_w_scouters.md` exists and contains:
  - [x] Frontmatter with allowed-tools: Task, Read, Glob, Grep, WebFetch
  - [x] Variables section accepting issue_number, adw_id, issue_json
  - [x] Scout Exploration Workflow launching 3 parallel scouts (2 base + 1 fast)
  - [x] Plan Format matching plan_w_docs structure with scout-specific sections
  - [x] Report section with CRITICAL OUTPUT FORMAT requirements

- [x] Jinja2 template `tac_bootstrap_cli/tac_bootstrap/templates/claude/commands/plan_w_scouters.md.j2` exists and contains:
  - [x] All config variable interpolations using {{ config.* }} syntax
  - [x] Default values for optional scout configuration
  - [x] Conditional rendering for optional paths (app_root, commands)
  - [x] Valid Jinja2 syntax (no template errors)

- [x] Scaffold service updated:
  - [x] `scaffold_service.py` includes "plan_w_scouters" in commands list
  - [x] Entry appears after "plan_w_docs" in TAC-12 section
  - [x] Formatting matches existing command entries

- [x] Template variables follow existing schema:
  - [x] Uses config.project.name, config.project.type
  - [x] Uses config.paths.specs_dir for specs location
  - [x] Uses config.commands.* for command references
  - [x] Optional scout config with sensible defaults

- [x] Command functionality:
  - [x] Launches scouts in parallel (single message with multiple Task calls)
  - [x] Uses Task tool with subagent_type="Explore"
  - [x] Aggregates scout results before planning
  - [x] Creates plan file with RELATIVE path
  - [x] Returns only the relative path (machine-parsable output)

## Validation Commands Executed

```bash
cd tac_bootstrap_cli && uv run pytest tests/ -v --tb=short
cd tac_bootstrap_cli && uv run ruff check .
cd tac_bootstrap_cli && uv run mypy tac_bootstrap/
cd tac_bootstrap_cli && uv run tac-bootstrap --help
cat .claude/commands/plan_w_scouters.md
cat tac_bootstrap_cli/tac_bootstrap/templates/claude/commands/plan_w_scouters.md.j2
grep -n "plan_w_scouters" tac_bootstrap_cli/tac_bootstrap/application/scaffold_service.py
```

## Review Summary

Successfully implemented the `/plan_w_scouters` command that integrates parallel scout-based codebase exploration into the planning workflow. The implementation creates both the base command file (.claude/commands/plan_w_scouters.md) and its Jinja2 template (plan_w_scouters.md.j2) with proper config variable usage. The command launches 3 parallel scout agents (2 base + 1 fast) using divide-and-conquer strategies to explore architectural patterns, infrastructure, and surface-level code patterns before generating implementation plans. All automated validations pass with zero regressions: 690 tests passed, linting clean, type checking successful, and CLI smoke test confirmed. The implementation correctly uses relative paths, follows existing template patterns, and is properly registered in scaffold_service.py after plan_w_docs.

## Review Issues

No blocking issues found. The implementation fully satisfies all acceptance criteria and passes all validation commands.

---
*Generated by the `/review` command - TAC Bootstrap CLI*
