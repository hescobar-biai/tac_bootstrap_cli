---
doc_type: feature
adw_id: feature_Tac_13_Task_13
date: 2026-02-03
idk:
  - meta-prompt
  - slash-command
  - jinja2
  - template
  - code-generation
  - meta-agentics
  - scaffold-service
tags:
  - feature
  - meta-agentics
  - code-generation
related_code:
  - .claude/commands/meta-prompt.md
  - tac_bootstrap_cli/tac_bootstrap/templates/claude/commands/meta-prompt.md.j2
  - tac_bootstrap_cli/tac_bootstrap/application/scaffold_service.py
---

# Meta-Prompt Generator Command

**ADW ID:** feature_Tac_13_Task_13
**Date:** 2026-02-03
**Specification:** specs/issue-575-adw-feature_Tac_13_Task_13-sdlc_planner-meta-prompt-generator.md

## Overview

The meta-prompt generator is a slash command that generates new slash commands from natural language descriptions. This implements the foundational pattern of "meta-agentics" - systems that create systems. The feature follows TAC Bootstrap's dual strategy: creating both a Jinja2 template for CLI generation and a concrete implementation file in the repository.

## What Was Built

- **Meta-prompt slash command** (`/meta-prompt`) that accepts a natural language description and generates a complete, production-ready TAC slash command
- **Jinja2 template** for scaffolding the meta-prompt command in new projects generated by TAC Bootstrap CLI
- **Repository implementation** providing a living reference example of the meta-prompt pattern
- **Registration in scaffold service** to automatically include the command in all generated projects

## Technical Implementation

### Files Modified

- `.claude/commands/meta-prompt.md`: Complete implementation of the meta-prompt generator command, includes 5-step workflow for analyzing user requests, studying existing patterns, designing command structure, generating commands, and validating output
- `tac_bootstrap_cli/tac_bootstrap/templates/claude/commands/meta-prompt.md.j2`: Jinja2 template version with `{{ config.project.name }}` variable substitution for reusable scaffolding
- `tac_bootstrap_cli/tac_bootstrap/application/scaffold_service.py`: Added `"meta-prompt"` to commands list in `_add_claude_files` method (line 343)

### Key Changes

- **Command structure follows TAC standards**: YAML frontmatter with `allowed-tools`, `description`, `argument-hint`, and `model` fields
- **5-step workflow**: (1) Study existing commands, (2) Analyze user request, (3) Design command structure, (4) Generate complete command, (5) Validate generated command
- **Uses Opus model**: Specified in frontmatter for higher quality prompt generation
- **Dual strategy pattern**: Both template (.j2) and implementation (.md) files created to enable both generation and immediate usage
- **Comprehensive documentation**: Includes meta-prompt concept explanation, usage guidelines, and examples

## How to Use

1. **Invoke the command** with a natural language description of the desired slash command:
   ```bash
   /meta-prompt Create a command that analyzes test coverage and suggests improvements
   ```

2. **The agent will**:
   - Study existing slash commands in `.claude/commands/` to understand patterns
   - Parse your description to identify purpose, inputs, outputs, and workflow
   - Design the command structure (frontmatter, variables, workflow steps)
   - Generate a complete command file following TAC standards
   - Validate the generated command

3. **Review the generated command** at `.claude/commands/[new-command-name].md`

4. **Test the new command** by invoking it with sample inputs

5. **Optionally create a template version** in `tac_bootstrap_cli/tac_bootstrap/templates/claude/commands/` if the command should be reusable across projects

## Configuration

The meta-prompt command is configured via YAML frontmatter:

```yaml
allowed-tools:
  - Write    # Creates new command files
  - Read     # Studies existing command patterns
  - Glob     # Finds command files in .claude/commands/
  - Grep     # Searches for patterns in commands
  - TodoWrite # Tracks workflow steps

description: "Generate a new slash command from user description"
argument-hint: "[command_description]"
model: opus  # Uses Claude Opus for higher quality generation
```

## Testing

### Verify Installation in TAC Bootstrap CLI

```bash
cd tac_bootstrap_cli && uv run pytest tests/ -v --tb=short
```

### Verify Template Renders Correctly

Generate a test project and check that meta-prompt.md is created:

```bash
cd tac_bootstrap_cli && uv run tac-bootstrap --help
```

### Test Command Generation

Invoke the meta-prompt command with a sample request:

```bash
/meta-prompt Create a command that runs database migrations and validates schema
```

Verify the generated command:
- Has valid YAML frontmatter
- Includes proper variable syntax
- Contains clear workflow steps
- Defines report format

### Code Quality Checks

```bash
cd tac_bootstrap_cli && uv run ruff check .
cd tac_bootstrap_cli && uv run mypy tac_bootstrap/
```

## Notes

- This is Task 13 in the TAC-13 roadmap, marking the beginning of Phase 3: Meta-Agentics
- The meta-prompt pattern is foundational for later tasks including meta-agent generators and expert orchestrators
- The command uses Opus model for higher quality prompt generation compared to standard Sonnet model
- Generated commands automatically follow TAC standards (frontmatter + variables + instructions + workflow + report)
- Future enhancement: Add automatic validation that generated commands conform to TAC standards
- The dual strategy (template + implementation) enables both reusability in new projects and immediate testing in the current repository
