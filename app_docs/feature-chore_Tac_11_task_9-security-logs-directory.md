---
doc_type: feature
adw_id: chore_Tac_11_task_9
date: 2026-01-27
idk:
  - security-logs
  - audit-logs
  - directory-structure
  - dangerous-command-blocker
  - git-repository-structure
  - configuration
  - infrastructure
tags:
  - feature
  - chore
  - security
  - infrastructure
related_code:
  - agents/security_logs/.gitkeep
  - .gitignore
  - .claude/hooks/dangerous_command_blocker.py
---

# Security Logs Directory Structure

**ADW ID:** chore_Tac_11_task_9
**Date:** 2026-01-27
**Specification:** specs/issue-330-adw-chore_Tac_11_task_9-sdlc_planner-create-security-logs-directory.md

## Overview

Created the `agents/security_logs/` directory structure to store security audit logs generated by the dangerous_command_blocker hook. This infrastructure change ensures the directory is tracked in git and will be included when TAC Bootstrap generates new projects.

## What Was Built

- Created `agents/security_logs/` directory in the repository root
- Added `.gitkeep` file to preserve empty directory in git
- Updated `.gitignore` to whitelist the security_logs directory (exclude from agents/* ignore pattern)

## Technical Implementation

### Files Modified

- `agents/security_logs/.gitkeep`: Empty file created to preserve directory structure in git
- `.gitignore`: Added `!agents/security_logs/` exception to whitelist this directory from the `agents/*` ignore pattern (appears in two sections of the file)

### Key Changes

- The `agents/` directory has a wildcard ignore pattern (`agents/*`) to prevent tracking of temporary agent data
- Added explicit exception for `security_logs` subdirectory using git's negation pattern (`!agents/security_logs/`)
- This follows the same pattern used for other preserved directories like `agents/context_bundles/` and `agents/hook_logs/`
- The directory will now be part of the template structure when TAC Bootstrap CLI generates new projects

## How to Use

This is an infrastructure component that requires no direct user interaction. The directory will be automatically populated by the dangerous_command_blocker hook when it blocks potentially dangerous commands.

The dangerous_command_blocker hook writes audit logs to this directory with filenames like:
- `blocked_command_YYYY-MM-DD_HH-MM-SS.log`

These logs contain:
- Timestamp of blocked command
- Command that was attempted
- Reason for blocking
- User/agent context

## Configuration

No configuration required. The directory is ready to receive audit logs from security hooks.

The directory location is hardcoded in the dangerous_command_blocker hook as:
```python
log_dir = Path("agents/security_logs")
```

## Testing

Verify the directory structure exists:

```bash
ls -la agents/security_logs/
```

Confirm git tracks the directory:

```bash
git status
```

Run validation suite to ensure no regressions:

```bash
cd tac_bootstrap_cli && uv run pytest tests/ -v --tb=short
```

Check linting passes:

```bash
cd tac_bootstrap_cli && uv run ruff check .
```

Smoke test the CLI:

```bash
cd tac_bootstrap_cli && uv run tac-bootstrap --help
```

## Notes

- This is a foundational infrastructure component required for security audit logging
- The `.gitkeep` file is a git convention to preserve empty directories (git normally doesn't track empty directories)
- The directory structure will be replicated in all projects generated by TAC Bootstrap CLI
- Future enhancements may include log rotation, retention policies, or centralized log aggregation
