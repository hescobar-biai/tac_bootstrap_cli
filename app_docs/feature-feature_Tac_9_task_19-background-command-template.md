---
doc_type: feature
adw_id: feature_Tac_9_task_19
date: 2026-01-26
idk:
  - jinja2-template
  - slash-command
  - background-agent
  - task-delegation
  - cli-generation
tags:
  - feature
  - template
  - command
related_code:
  - tac_bootstrap_cli/tac_bootstrap/templates/claude/commands/background.md.j2
  - .claude/commands/background.md
---

# Background Command Template

**ADW ID:** feature_Tac_9_task_19
**Date:** 2026-01-26
**Specification:** specs/issue-260-adw-feature_Tac_9_task_19-sdlc_planner-add-background-command-template.md

## Overview

Added a Jinja2 template for the `/background` slash command that enables delegation of long-running tasks to background agents for asynchronous execution. This template allows projects generated by TAC Bootstrap to include background agent capabilities out-of-the-box.

## What Was Built

- `tac_bootstrap_cli/tac_bootstrap/templates/claude/commands/background.md.j2` - Jinja2 template source for the background command
- `.claude/commands/background.md` - Rendered version for this repository's use
- Specification and checklist documentation for this feature

## Technical Implementation

### Files Modified

- `tac_bootstrap_cli/tac_bootstrap/templates/claude/commands/background.md.j2`: Created new Jinja2 template with static content (no parameterization needed)
- `.claude/commands/background.md`: Created rendered version identical to the template

### Key Changes

- Template follows the established command structure with Variables, Instructions, Run, and Report sections
- Uses minimal Jinja2 parameterization (completely static content) following the pattern of other command templates
- Provides comprehensive documentation on when and how to use background agent delegation
- Includes three practical examples: test suites, complex refactoring, and documentation generation
- Documents the Task tool's `run_in_background: true` parameter usage
- Specifies optional parameters: agent_type (defaults to 'general-purpose') and model ('sonnet', 'haiku', 'opus')

## How to Use

### For TAC Bootstrap Users

When generating a new project with TAC Bootstrap CLI, the `/background` command will be automatically included in `.claude/commands/background.md`.

### For End Users (in Generated Projects)

1. Invoke the command with a task description:
   ```
   /background Run the entire test suite including slow integration tests
   ```

2. Optionally specify agent type and model:
   ```
   /background --agent_type general-purpose --model haiku Generate API documentation for all endpoints
   ```

3. Monitor the background task:
   ```bash
   tail -f <output_file_path>
   ```

4. The agent will notify you when the task completes

## Configuration

This template requires no configuration or parameterization. It's a static template that renders identically across all projects.

## Testing

Verify the template exists and is properly formatted:

```bash
cat tac_bootstrap_cli/tac_bootstrap/templates/claude/commands/background.md.j2
```

Verify the rendered version exists:

```bash
cat .claude/commands/background.md
```

Run the full validation suite:

```bash
cd tac_bootstrap_cli && uv run pytest tests/ -v --tb=short
```

Run linting:

```bash
cd tac_bootstrap_cli && uv run ruff check .
```

Run type checking:

```bash
cd tac_bootstrap_cli && uv run mypy tac_bootstrap/
```

Smoke test the CLI:

```bash
cd tac_bootstrap_cli && uv run tac-bootstrap --help
```

## Notes

- This is Task 19 of Phase 9 in the TAC Bootstrap implementation plan
- The template uses completely static content with no Jinja2 variables, making it project-agnostic
- Background agents are useful for tasks that take significant time and don't require immediate user interaction
- The rendered `.j2` and `.md` files are identical since no template variables are used
- Future enhancements could include project-type-specific examples (Python, JavaScript, etc.)
